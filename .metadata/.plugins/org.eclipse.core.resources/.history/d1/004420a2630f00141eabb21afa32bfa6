package com.gling.bookmeup.main;

import java.util.Map;

import android.app.Application;
import android.util.Log;

import com.parse.Parse;
import com.parse.ParseAnalytics;
import com.parse.ParseFacebookUtils;
import com.parse.ParseObject;
import com.parse.ParseInstallation;
import com.parse.PushService;

public class BookMeUpApplication extends Application {

	private static final String TAG = "BookMeUpApplication";
	private static final String PARSE_APPLICATION_ID = "0Uye8FHMnsklraYbqnMDxtg0rbQRKEqZSVO6BHPa";
	private static final String PARSE_CLIENT_KEY = "5dB8I0UZWFaTtYpE3OUn7CWwPzxYxe2yBqE7uhS3";

	@Override
	public void onCreate() {
		Log.i(TAG, "onCreate");
		
		super.onCreate();

		// Initialize parse
		Log.i(TAG, "Initializing Parse");
		Parse.initialize(this, PARSE_APPLICATION_ID, PARSE_CLIENT_KEY);

		// Configure parse push service
		Log.i(TAG, "Configuring parse push service");
		PushService.setDefaultPushCallback(this, MainActivity.class);
		ParseInstallation.getCurrentInstallation().saveInBackground();
		
		// Configure Parse analytics events - test
		Map<String, String> dimensions = new HashMap<String, String>();
		// What type of news is this?
		dimensions.put("category", "politics");
		// Is it a weekday or the weekend?
		dimensions.put("dayType", "weekday");
		// Send the dimensions to Parse along with the 'read' event
		 
		ParseAnalytics.trackEvent("read", dimensions);
		
	}
}
